<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Detail</title>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <script type="text/javascript">

        let searchParams = new URLSearchParams(window.location.search)
        let param = searchParams.get('id')

        $.ajax({
            url: "http://127.0.0.1:8080/book/"+param,
            type: "get",
            success: function (response) {
                console.log(response)
                let html='<strong>Autorzy: </strong>';
                $.each(response.author, function (i, item) {
                    html+="<p>"+item.name+' '+item.surname+"</p>"
                });

                $('#img').html("<img src="+response.image+" width='250' >");
                let av = response.available ? "<font color='green'>Dostępny</font>" : "<font color='red'>Niedotępny</font>";
                $('#data').html("<h2><strong>"+response.title+"</strong></h2> <p> <strong>Wydanie: </strong>"+response.published+"</p><p><strong>Dostępność: </strong>"+av+"</p>"+html+"<p><strong>Opis:<br></strong>"+response.description+"</p>");
            },
            error: function (xhr) {
                console.log("error");
            }
        });
    </script>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-sm-4" id="img" >
        </div>
        <div class="col-sm-8" id="data">
        </div>
    </div>
</div>
</body>
</html>